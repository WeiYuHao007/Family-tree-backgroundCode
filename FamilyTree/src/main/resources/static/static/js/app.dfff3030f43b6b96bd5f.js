webpackJsonp([1],{"6TWq":function(e,t){e.exports="data:image/png;base64,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"},"8hhQ":function(e,t){},Aere:function(e,t){},MZOS:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),n=a("/ocq"),o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cssLoginBox"},[i("div",{staticClass:"cssLoginPanel"},[i("img",{staticStyle:{height:"50px",margin:"auto 35% 31px"},attrs:{ale:"FamilyTreeSystem",src:a("6TWq")}}),e._v(" "),i("el-form",{ref:"userVO",attrs:{model:e.userVO,"label-position":"left"}},[i("el-form-item",[i("el-input",{attrs:{type:"text",placeholder:"电话号码",clearable:""},model:{value:e.userVO.phoneNum,callback:function(t){e.$set(e.userVO,"phoneNum",t)},expression:"userVO.phoneNum"}})],1),e._v(" "),i("el-form-item",[i("el-input",{attrs:{type:"password",placeholder:"密码","show-password":""},model:{value:e.userVO.password,callback:function(t){e.$set(e.userVO,"password",t)},expression:"userVO.password"}})],1)],1),e._v(" "),i("div",{staticStyle:{margin:"0px auto","margin-bottom":"22px"}},[i("el-button",{staticStyle:{width:"340px"},attrs:{type:"primary",plain:"",loading:this.buttonStatus.login},nativeOn:{click:function(t){return e.login(t)}}},[e._v("登录")])],1),e._v(" "),i("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between","align-items":"center"}},[i("a",{staticStyle:{cursor:"pointer"},on:{click:e.changePassword}},[e._v("忘记密码？")]),e._v(" "),i("a",{staticStyle:{cursor:"pointer"},on:{click:e.register}},[e._v("注册")])])],1)])},staticRenderFns:[]};var s=a("VU/8")({name:"TreeLogin",data:function(){return{userVO:{phoneNum:"",password:""},buttonStatus:{login:!1,register:!1}}},methods:{login:function(){var e=this;this.loginButtonStatus=!0,this.$axios.post("/user/status/",{phoneNum:this.userVO.phoneNum,password:this.userVO.password}).then(function(t){200===t.data.code&&(e.bus.$emit("on-login",t.data.data),e.$router.push({path:"/homepage/"+t.data.data}),e.$alert(t.data.message)),200!==t.data.code&&e.$alert(t.data.message)}).catch(function(e){})},register:function(){this.loginButtonStatus=!0,this.$router.push({path:"/register"})},changePassword:function(){}}},o,!1,function(e){a("MZOS")},"data-v-45e1a472",null).exports,r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cssLoginBox"},[i("div",{staticClass:"cssLoginPanel"},[i("img",{staticStyle:{height:"50px",margin:"auto 35% 31px"},attrs:{ale:"FamilyTreeSystem",src:a("6TWq")}}),e._v(" "),i("el-form",{ref:"registerVO",attrs:{model:e.registerVO,"label-position":"left"}},[i("el-form-item",[i("el-input",{attrs:{type:"text",placeholder:"昵称",clearable:""},model:{value:e.registerVO.nickname,callback:function(t){e.$set(e.registerVO,"nickname",t)},expression:"registerVO.nickname"}})],1),e._v(" "),i("el-form-item",[i("el-input",{attrs:{type:"text",placeholder:"电话号码",clearable:""},model:{value:e.registerVO.phoneNum,callback:function(t){e.$set(e.registerVO,"phoneNum",t)},expression:"registerVO.phoneNum"}})],1),e._v(" "),i("el-form-item",[i("el-input",{attrs:{type:"text",placeholder:"邮箱",clearable:""},model:{value:e.registerVO.email,callback:function(t){e.$set(e.registerVO,"email",t)},expression:"registerVO.email"}})],1),e._v(" "),i("el-form-item",[i("el-input",{attrs:{type:"password",placeholder:"密码","show-password":""},model:{value:e.registerVO.password,callback:function(t){e.$set(e.registerVO,"password",t)},expression:"registerVO.password"}})],1)],1),e._v(" "),i("el-button",{staticStyle:{width:"340px"},attrs:{type:"primary",plain:"",loading:this.buttonStatus.register},nativeOn:{click:function(t){return e.register(t)}}},[e._v("注册")])],1)])},staticRenderFns:[]};var l=a("VU/8")({name:"TreeRegister",data:function(){return{registerVO:{nickname:"",phoneNum:"",email:"",password:""},buttonStatus:{register:!1}}},methods:{register:function(){var e=this;this.$axios.post("/user/",{nickname:this.registerVO.nickname,phoneNum:this.registerVO.phoneNum,email:this.registerVO.email,password:this.registerVO.password}).then(function(t){200===t.data.code?(e.$alert("注册成功。"),e.$router.push({path:"/login"})):e.$alert(t.data.message)}).catch(function(e){})}}},r,!1,function(e){a("Aere")},"data-v-c04b4682",null).exports,c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cssHomepage"},[a("div",{staticClass:"cssContainer"},[a("div",{staticClass:"cssUserContainer"},[a("div",{staticClass:"cssUserDetail"},[a("el-image",{staticStyle:{width:"200px height: 200px"},attrs:{src:"https://avatars1.githubusercontent.com/u/49115554?s=460&v=4"}},[a("div",{attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline",staticStyle:{width:"200px height: 200px"}})])]),e._v(" "),a("h1",[a("span",[e._v("\r\n            "+e._s(this.$route.params.nickname)+"\r\n          ")])]),e._v(" "),a("div",{staticStyle:{"padding-bottom":"16px"}},[a("el-button",{staticStyle:{width:"200px"},attrs:{type:"primary"}},[e._v("Edit")])],1),e._v(" "),a("div",[a("div",[e._v(e._s(this.userShow.introduction))])])],1),e._v(" "),a("div",{staticClass:"cssTreeDetail"},[a("div",{staticClass:"cssTreeNavContainer"},[a("el-tabs",{attrs:{lazy:"true"},model:{value:this.treeActiveTab,callback:function(t){e.$set(this,"treeActiveTab",t)},expression:"this.treeActiveTab"}},[a("el-tab-pane",{attrs:{label:"关注",name:"1"}},[[a("div",{staticClass:"cssTreePanel"},[e._l(this.focusedTreeNameList,function(t,i){return a("el-card",{key:i,staticClass:"cssTreePanelItem",attrs:{shadow:"hover"}},[a("div",{staticClass:"cssTreePanelItemContent"},[a("span",[e._v(" "+e._s(t)+" ")]),e._v(" "),a("span",[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.enterTree(t)}}},[e._v("进入")])],1)])])}),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"创建图谱",placement:"bottom"}},[a("el-button",{staticStyle:{width:"100%",margin:"5px 0px 10px 0px"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small",plain:""},on:{click:function(t){return e.showCreateTreePanel()}}})],1),e._v(" "),a("el-dialog",{attrs:{title:"创建图谱",visible:e.newTreeDialogFormVisible,width:"50%"},on:{"update:visible":function(t){e.newTreeDialogFormVisible=t}}},[a("el-form",{ref:"newTreeInfo",staticStyle:{margin:"0px 10px"},attrs:{model:e.newTreeInfo,size:"medium"}},[a("p",[e._v("新图谱信息：")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入图谱名称"},model:{value:e.newTreeInfo.newTreeName,callback:function(t){e.$set(e.newTreeInfo,"newTreeName",t)},expression:"newTreeInfo.newTreeName"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入图谱简介"},model:{value:e.newTreeInfo.newTreeDescription,callback:function(t){e.$set(e.newTreeInfo,"newTreeDescription",t)},expression:"newTreeInfo.newTreeDescription"}})],1),e._v(" "),a("p",[e._v("初始人物信息：")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入人物名字"},model:{value:e.newTreeInfo.defaultCenterNodeName,callback:function(t){e.$set(e.newTreeInfo,"defaultCenterNodeName",t)},expression:"newTreeInfo.defaultCenterNodeName"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入人物出生日期"},model:{value:e.newTreeInfo.nodeBirthTime,callback:function(t){e.$set(e.newTreeInfo,"nodeBirthTime",t)},expression:"newTreeInfo.nodeBirthTime"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入人物死亡日期"},model:{value:e.newTreeInfo.nodeDeathTime,callback:function(t){e.$set(e.newTreeInfo,"nodeDeathTime",t)},expression:"newTreeInfo.nodeDeathTime"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入人物生平"},model:{value:e.newTreeInfo.nodeMajorAchievements,callback:function(t){e.$set(e.newTreeInfo,"nodeMajorAchievements",t)},expression:"newTreeInfo.nodeMajorAchievements"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createTree()}}},[e._v("立即创建")]),e._v(" "),a("el-button",{on:{click:function(t){e.newTreeDialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1)],2),e._v(" "),a("div",{staticClass:"cssTreeEventsPanel"},[a("el-timeline",{staticClass:"cssTreeEvents"},e._l(this.treeEvents,function(t){return a("el-timeline-item",{key:t,attrs:{timestamp:t.updateTime,placement:"top"}},[a("el-card",[a("h4",[e._v(e._s(t.updateCommit))]),e._v(" "),a("p",[e._v(e._s(t.updateRemark))])])],1)}),1)],1)]],2),e._v(" "),a("el-tab-pane",{attrs:{label:"搜索",name:"2"}},[[a("el-input",{attrs:{placeholder:"请输入查询图谱的名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchTrees(e.searchTreeKeyword,e.searchTreePageNum,"query")}},model:{value:e.searchTreeKeyword,callback:function(t){e.searchTreeKeyword=t},expression:"searchTreeKeyword"}}),e._v(" "),a("el-collapse",{staticStyle:{border:"0px"}},e._l(this.searchedTreeList,function(t,i){return a("el-collapse-item",{key:i},[a("template",{slot:"title"},[e._v("\r\n                      "+e._s(t.name)+"\r\n                    ")]),e._v(" "),a("div",[e._v("图谱id: "+e._s(t.id))]),e._v(" "),a("div",[e._v("管理员: "+e._s(t.admin))]),e._v(" "),a("div",[e._v("简介: "+e._s(t.description))]),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"info",icon:"el-icon-star-off",circle:""},on:{click:function(a){e.focusDialogFormVisible=!0,e.focusTreeName=t.name}}})],2)}),1),e._v(" "),a("el-dialog",{attrs:{title:"关注",visible:e.focusDialogFormVisible,width:"45%"},on:{"update:visible":function(t){e.focusDialogFormVisible=t}}},[a("el-input",{attrs:{type:"textarea",rows:4,maxlength:"50","show-word-limit":"",autocomplete:"true",placeholder:"请输入验证消息"},model:{value:e.focusTreeComment,callback:function(t){e.focusTreeComment=t},expression:"focusTreeComment"}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.focusDialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.focusOnTree}},[e._v("确 定")])],1)],1),e._v(" "),a("el-divider"),e._v(" "),a("el-button-group",{staticStyle:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between","align-items":"center"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left",size:"mini"},on:{click:e.handlePrevClick}},[e._v("上一页")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleNextClick}},[e._v("下一页"),a("i",{staticClass:"el-icon-arrow-right"})])],1)]],2)],1)],1)]),e._v(" "),a("div",{staticClass:"cssFriendDetail"},[e._v("\r\n        谱友\r\n        "),e._l(this.focusedTreeNameList,function(t){return a("p",{key:t},[a("i",{staticClass:"el-icon-caret-right"},[e._v(e._s(t))])])})],2)])])])},staticRenderFns:[]};var d=a("VU/8")({name:"TreeHomepage",data:function(){return{userShow:{nickname:"",introduction:"",registerTime:""},treeActiveTab:"1",focusedTreeNameList:[],treeEvents:[],searchTreeKeyword:"",searchTreePageNum:1,searchedTreeList:[],focusDialogFormVisible:!1,focusTreeName:"",focusTreeComment:"",newTreeInfo:{newTreeName:"",newTreeDescription:"",defaultCenterNodeName:"",nodeBirthTime:"",nodeDeathTime:"",nodeMajorAchievements:""},newTreeDialogFormVisible:!1}},mounted:function(){this.updatefocusedTreeNameList(),this.getFocusTreeEvents(),this.getUserShow()},methods:{updatefocusedTreeNameList:function(){var e=this;this.$axios.get("/user/"+this.$route.params.nickname+"/trees").then(function(t){200===t.data.code&&(e.focusedTreeNameList=t.data.data)}).catch(function(e){})},getUserShow:function(){var e=this;this.$axios.get("/user/"+this.$route.params.nickname+"/info/",{params:{all:!1}}).then(function(t){200===t.data.code&&(e.userShow=t.data.data)}).catch(function(e){})},getFocusTreeEvents:function(){var e=this;this.$axios.get("/user/"+this.$route.params.nickname+"/focus-trees/update-record").then(function(t){200===t.data.code&&(e.treeEvents=t.data.data)}).catch(function(e){})},searchTrees:function(e,t,a){var i=this;""!==e&&this.$axios.get("trees/info",{params:{keyword:e,pageNum:t}}).then(function(e){if(200===e.data.code){for(var t=[],n=e.data.data.length,o=0;o<n;o++){var s={id:e.data.data[o].genealogyId,name:e.data.data[o].genealogyName,admin:e.data.data[o].genealogyAdmin,description:e.data.data[o].genealogyDescription};t.push(s)}return i.searchedTreeList=t,!0}i.$alert(e.data.message),"next"===a&&(i.searchTreePageNum-=1),"prev"===a&&(i.searchTreePageNum+=1)}).catch(function(e){})},handlePrevClick:function(){this.searchTreePageNum-=1,this.searchTreePageNum>=1?this.searchTrees(this.searchTreeKeyword,this.searchTreePageNum,"prev"):(this.searchTreePageNum+=1,this.$alert("这已经是第一页了。"))},handleNextClick:function(){""!==this.searchTreeKeyword?(this.searchTreePageNum+=1,this.searchTrees(this.searchTreeKeyword,this.searchTreePageNum,"next")):this.$alert("请先输入查询关键词。")},showCreateTreePanel:function(){this.newTreeDialogFormVisible=!0},createTree:function(){var e=this;this.$axios.post("/tree",{newGenealogyName:this.newTreeInfo.newTreeName,newGenealogyDescription:this.newTreeInfo.newTreeDescription,defaultCenterNodeName:this.newTreeInfo.defaultCenterNodeName,nodeBirthTime:this.newTreeInfo.nodeBirthTime,nodeDeathTime:this.newTreeInfo.nodeDeathTime,nodeMajorAchievements:this.newTreeInfo.nodeMajorAchievements}).then(function(t){200===t.data.code&&(e.newTreeName="",e.newTreeDescription="",e.defaultCenterNodeName="",e.nodeBirthTime="",e.nodeDeathTime="",e.nodeMajorAchievements="",e.newTreeDialogFormVisible=!1),e.$alert(t.data.message)}).catch(function(e){})},focusOnTree:function(){var e=this;this.$axios.post("/tree/"+this.focusTreeName+"/application",{comment:this.focusTreeComment}).then(function(t){200===t.data.code&&(e.focusDialogFormVisible=!1),e.$alert(t.data.message)}).catch()},enterTree:function(e){this.$router.push({path:"/tree/"+e})}}},c,!1,function(e){a("gJTK")},"data-v-d9a94daa",null).exports,m={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("无效路径")])},staticRenderFns:[]};var u=a("VU/8")({name:"TreeEmpty"},m,!1,function(e){a("ojsC")},null,null).exports,h={name:"graphUtil",props:["myChart","utilIndex"],data:function(){return{addingNode:{name:"",birthTime:"",deathTime:"",majorAchievements:""},deletingNode:{name:""},addingRelationship:{source:"",target:"",relationshipName:""},deletingRelationship:{source:"",target:""},queryNodeName:null,editState:!1,nodesNameList:[],followersNicknameList:[],treeDetailInfo:{id:"",name:"",admin:"",defaultCenterPerson:"",description:""},timeout:null,queryNodeInfo:{name:null,birthTime:null,deathTime:null,majorAchievements:null,commit:""},queryShortestpathVO:{startPersonName:"",endPersonName:""},dialogFormVisible:{transferAdmin:!1,changeCenterNode:!1,changeDescription:!1,cancelFollow:!1},newCenterNodeName:"",newAdminNickname:"",newTreeName:"",cancelFollowUserName:""}},mounted:function(){this.getFollowers(),this.getNodesNameList(),this.getTreeDetailInfo();var e=this;this.bus.$on("on-clickNode",function(t){e.queryNodeName=t,e.$axios.get("/tree/"+e.$route.params.treeName+"/node",{params:{name:t}}).then(function(t){200===t.data.code&&(e.queryNodeInfo=t.data.data)}).catch()})},methods:{addNode:function(){var e=this;this.$axios.post("/tree/"+this.$route.params.treeName+"/node",{name:this.addingNode.name,birthTime:this.addingNode.birthTime,deathTime:this.addingNode.deathTime,majorAchievements:this.addingNode.majorAchievements}).then(function(t){200===t.data.code?(e.addingNode.name="",e.addingNode.birthTime="",e.addingNode.deathTime="",e.addingNode.majorAchievements="",e.addingNode.commit="",e.$alert(t.data.message),e.$emit("handleGetTreeMainNodeData")):e.$alert(t.data.message)}).catch(function(e){})},deleteNode:function(){var e=this;this.$axios.delete("/tree/"+this.$route.params.treeName+"/node/"+this.deletingNode.name).then(function(t){200===t.data.code?(e.$alert(t.data.message),e.$emit("handleGetTreeMainNodeData")):e.$alert(t.data.message)}).catch(function(e){})},addRelationship:function(){var e=this;this.$axios.post("/tree/"+this.$route.params.treeName+"/relationship",{source:this.addingRelationship.source,target:this.addingRelationship.target,relationshipName:this.addingRelationship.relationshipName}).then(function(t){200===t.data.code?(e.$alert(t.data.message),e.$emit("handleGetTreeMainNodeData")):e.$alert(t.data.message)}).catch(function(e){})},deleteRelationship:function(){var e=this;this.$axios.delete("/tree/"+this.$route.params.treeName+"/relationship",{params:{source:this.deletingRelationship.source,target:this.deletingRelationship.target}}).then(function(t){200===t.data.code?(e.$alert(t.data.message),e.$emit("handleGetTreeMainNodeData")):e.$alert(t.data.message)}).catch(function(e){})},getNodeInfo:function(){var e=this;this.$axios.get("/tree/"+this.$route.params.treeName+"/node",{params:{name:this.queryNodeName}}).then(function(t){200===t.data.code&&(e.queryNodeInfo=t.data.data)}).catch()},initializeNodeInfo:function(){this.queryNodeName=null,this.queryNodeInfo.name=null,this.queryNodeInfo.birthTime=null,this.queryNodeInfo.deathTime=null,this.queryNodeInfo.majorAchievements=null},showEditNodeInfoPanel:function(){null!==this.queryNodeInfo.name&&(this.editState=!this.editState)},editNodeInfo:function(){var e=this;this.$axios.put("/tree/"+this.$route.params.treeName+"/node-info",{name:this.queryNodeInfo.name,birthTime:this.queryNodeInfo.birthTime,deathTime:this.queryNodeInfo.deathTime,majorAchievements:this.queryNodeInfo.majorAchievements,commit:this.queryNodeInfo.commit}).then(function(t){200!==t.data.code&&400!==t.data.code||(e.editState=!1,e.queryNodeInfo.commit="",e.$alert(t.data.message))}).catch(function(e){})},getNodesNameList:function(){var e=this;this.$axios.get("/tree/"+this.$route.params.treeName+"/nodes").then(function(t){200===t.data.code&&(e.nodesNameList=t.data.data)}).catch(function(e){})},getFollowers:function(){var e=this;this.$axios.get("/tree/"+this.$route.params.treeName+"/followers").then(function(t){200===t.data.code&&(e.followersNicknameList=t.data.data)}).catch(function(e){})},getTreeDetailInfo:function(){var e=this;this.$axios.get("/tree/"+this.$route.params.treeName).then(function(t){200===t.data.code&&(e.treeDetailInfo.id=t.data.data.genealogyId,e.treeDetailInfo.name=t.data.data.genealogyName,e.treeDetailInfo.admin=t.data.data.genealogyAdmin,e.treeDetailInfo.defaultCenterPerson=t.data.data.genealogyDefaultCenterPerson,e.treeDetailInfo.description=t.data.data.genealogyDescription)}).catch(function(e){})},querySearchAsync:function(e,t){for(var a=this.nodesNameList.length,i=[],n=0;n<a;n++)i.push({value:this.nodesNameList[n]});var o=e?i.filter(this.createFilter(e)):i;clearTimeout(this.timeout),this.timeout=setTimeout(function(){t(o)},3e3*Math.random())},createFilter:function(e){return function(t){return 0===t.value.indexOf(e)}},findShortestpath:function(){var e=this;this.$axios.get("/tree/"+this.$route.params.treeName+"/node/shortestpath",{params:{startPersonName:this.queryShortestpathVO.startPersonName,endPersonName:this.queryShortestpathVO.endPersonName,radius:1e4}}).then(function(t){if(200===t.data.code){e.myChart.hideLoading();var a,i;a=e.loadNode(t),i=e.loadLink(t),e.myChart.setOption({series:[{data:a,links:i}]})}200!==t.data.code&&e.$alert(t.data.message)}).catch(function(e){})},loadNode:function(e){var t=[],a=e.data.data[0],i=a.length;if(0===i)return null;for(var n=0;n<i;n++){var o={name:a[n].name,x:Number(a[n].x),y:Number(a[n].y)};t.push(o)}return t},loadLink:function(e){for(var t=[],a=e.data.data[1],i=a.length,n=0;n<i;n++)t.push({source:a[n].source,target:a[n].target,label:{formatter:a[n].relationshipName}});return t},transferAdmin:function(){var e=this;this.$axios.patch("/tree/"+this.$route.params.treeName+"/admin/"+this.newAdminNickname).then(function(t){200===t.data.code&&(e.dialogFormVisible.transferAdmin=!1),e.$alert(t.data.message)}).catch(function(e){})},changeCenterNode:function(){var e=this;this.$axios.patch("/tree/"+this.$route.params.treeName+"/center-node",{name:this.newCenterNodeName}).then(function(t){200===t.data.code&&(e.dialogFormVisible.changeCenterNode=!1,e.getTreeDetailInfo(),e.$emit("handleGetTreeMainNodeData")),e.$alert(t.data.message)}).catch(function(e){})},changeDescription:function(){var e=this;this.$axios.patch("/tree/"+this.$route.params.treeName+"/name-and-description",{newGenealogyName:this.treeDetailInfo.name,newDescription:this.treeDetailInfo.description}).then(function(t){200===t.data.code&&(e.dialogFormVisible.changeDescription=!1),e.getTreeDetailInfo(),e.$alert(t.data.message)}).catch(function(e){})},cancelFollow:function(){var e=this;this.$axios.delete("/tree/"+this.$route.params.treeName+"/user/"+this.cancelFollowUserName).then(function(t){200===t.data.code&&(e.dialogFormVisible.cancelFollow=!1,e.cancelFollowUserName=""),e.$alert(t.data.message)}).catch(function(e){})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["3-1"===e.utilIndex?[a("el-form",{staticClass:"cssTreeUtilShowDetail",attrs:{inline:!0,model:this.addingNode}},[a("p",[e._v("增加节点")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名",max:"5"},model:{value:e.addingNode.name,callback:function(t){e.$set(e.addingNode,"name",t)},expression:"addingNode.name"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"出生日期"},model:{value:e.addingNode.birthTime,callback:function(t){e.$set(e.addingNode,"birthTime",t)},expression:"addingNode.birthTime"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"死亡日期"},model:{value:e.addingNode.deathTime,callback:function(t){e.$set(e.addingNode,"deathTime",t)},expression:"addingNode.deathTime"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"主要成就"},model:{value:e.addingNode.majorAchievements,callback:function(t){e.$set(e.addingNode,"majorAchievements",t)},expression:"addingNode.majorAchievements"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:""},nativeOn:{click:function(t){return e.addNode()}}},[e._v("添加")])],1)],1)]:e._e(),e._v(" "),"3-2"===e.utilIndex?[a("el-form",{staticClass:"cssTreeUtilShowDetail",attrs:{inline:!0,model:this.addingRelationship}},[a("p",[e._v("增加关系")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名",max:"5"},model:{value:e.addingRelationship.source,callback:function(t){e.$set(e.addingRelationship,"source",t)},expression:"addingRelationship.source"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"关系"},model:{value:e.addingRelationship.relationshipName,callback:function(t){e.$set(e.addingRelationship,"relationshipName",t)},expression:"addingRelationship.relationshipName"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名",max:"5"},model:{value:e.addingRelationship.target,callback:function(t){e.$set(e.addingRelationship,"target",t)},expression:"addingRelationship.target"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:""},nativeOn:{click:function(t){return e.addRelationship()}}},[e._v("添加")])],1)],1)]:e._e(),e._v(" "),"4-1"===e.utilIndex?[a("el-form",{staticClass:"cssTreeUtilShowDetail",attrs:{inline:!0,model:this.deletingNode}},[a("p",[e._v("删除节点")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名",max:"5"},model:{value:e.deletingNode.name,callback:function(t){e.$set(e.deletingNode,"name",t)},expression:"deletingNode.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:""},nativeOn:{click:function(t){return e.deleteNode()}}},[e._v("删除")])],1)],1)]:e._e(),e._v(" "),"4-2"===e.utilIndex?[a("el-form",{staticClass:"cssTreeUtilShowDetail",attrs:{inline:!0,model:this.deletingRelationship}},[a("p",[e._v("删除关系")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名",max:"5"},model:{value:e.deletingRelationship.source,callback:function(t){e.$set(e.deletingRelationship,"source",t)},expression:"deletingRelationship.source"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名",max:"5"},model:{value:e.deletingRelationship.target,callback:function(t){e.$set(e.deletingRelationship,"target",t)},expression:"deletingRelationship.target"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:""},nativeOn:{click:function(t){return e.deleteRelationship()}}},[e._v("删除")])],1)],1)]:e._e(),e._v(" "),"6"===e.utilIndex?[!1===e.editState?[a("el-form",{staticClass:"cssTreeUtilShowDetail",attrs:{inline:!0}},[a("p",[e._v("查询节点信息")]),e._v(" "),a("el-form-item",[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearchAsync,placeholder:"请输入节点名称"},model:{value:e.queryNodeName,callback:function(t){e.queryNodeName=t},expression:"queryNodeName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:""},nativeOn:{click:function(t){return e.getNodeInfo()}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:""},nativeOn:{click:function(t){return e.initializeNodeInfo()}}},[e._v("清空")])],1)],1),e._v(" "),a("el-divider"),e._v(" "),a("div",{staticClass:"cssTreeUtilNodeInfoDetail",staticStyle:{width:"220px"}},[a("el-scrollbar",{staticStyle:{height:"100%",width:"100%"}},[a("p",[e._v("姓名： "+e._s(this.queryNodeInfo.name))]),e._v(" "),a("p",[e._v("出生日期： "+e._s(this.queryNodeInfo.birthTime))]),e._v(" "),a("p",[e._v("死亡日期： "+e._s(this.queryNodeInfo.deathTime))]),e._v(" "),a("p",[e._v("生评："+e._s(this.queryNodeInfo.majorAchievements))]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:""},nativeOn:{click:function(t){return e.showEditNodeInfoPanel()}}},[e._v("修改")])],1)],1)]:[a("el-form",{ref:"queryNodeInfo",staticClass:"cssTreeUtilShowDetail",staticStyle:{height:"500px",width:"200px"},attrs:{model:this.queryNodeInfo,"label-position":"left"}},[a("el-scrollbar",{staticStyle:{height:"100%",width:"100%"}},[a("p",[e._v(e._s(e.queryNodeInfo.name))]),e._v(" "),a("el-form-item",{attrs:{label:"出生日期:",placeholder:"出生日期:"}},[a("el-input",{model:{value:e.queryNodeInfo.birthTime,callback:function(t){e.$set(e.queryNodeInfo,"birthTime",t)},expression:"queryNodeInfo.birthTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"死亡日期:"}},[a("el-input",{attrs:{placeholder:"死亡日期:"},model:{value:e.queryNodeInfo.deathTime,callback:function(t){e.$set(e.queryNodeInfo,"deathTime",t)},expression:"queryNodeInfo.deathTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生评:"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"请输入生评"},model:{value:e.queryNodeInfo.majorAchievements,callback:function(t){e.$set(e.queryNodeInfo,"majorAchievements",t)},expression:"queryNodeInfo.majorAchievements"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"修改备注:"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:4},maxlength:"50","show-word-limit":"",placeholder:"请输入修改备注"},model:{value:e.queryNodeInfo.commit,callback:function(t){e.$set(e.queryNodeInfo,"commit",t)},expression:"queryNodeInfo.commit"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:""},nativeOn:{click:function(t){return e.showEditNodeInfoPanel()}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:""},nativeOn:{click:function(t){return e.editNodeInfo()}}},[e._v("保存")])],1)],1)],1)]]:e._e(),e._v(" "),"7-1"===e.utilIndex?[a("el-form",{staticClass:"cssTreeUtilShowDetail",attrs:{inline:!0,model:this.queryShortestpathVO}},[a("p",[e._v("最短路径选择器")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入第一个人的姓名",max:"5"},model:{value:e.queryShortestpathVO.startPersonName,callback:function(t){e.$set(e.queryShortestpathVO,"startPersonName",t)},expression:"queryShortestpathVO.startPersonName"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入第二个人的性命",max:"5"},model:{value:e.queryShortestpathVO.endPersonName,callback:function(t){e.$set(e.queryShortestpathVO,"endPersonName",t)},expression:"queryShortestpathVO.endPersonName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:""},nativeOn:{click:function(t){return e.findShortestpath()}}},[e._v("查询")])],1)],1)]:e._e(),e._v(" "),"8"===e.utilIndex?[a("div",{staticStyle:{height:"500px",width:"220px"}},[a("el-scrollbar",{staticStyle:{height:"100%",width:"100%"}},[a("h2",[e._v("管理总览")]),e._v(" "),a("p",[a("el-button",{attrs:{type:"text",plain:""},nativeOn:{click:function(t){e.dialogFormVisible.transferAdmin=!0}}},[e._v("转让管理员身份")]),e._v(" "),a("el-dialog",{attrs:{title:"转让管理员身份",visible:e.dialogFormVisible.transferAdmin,width:"25%"},on:{"update:visible":function(t){return e.$set(e.dialogFormVisible,"transferAdmin",t)}}},[a("el-form",{staticStyle:{margin:"0px 10px"},attrs:{size:"medium"}},[a("p",[e._v("现有管理员："),a("span",[e._v(e._s(this.treeDetailInfo.admin))])]),e._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择新管理员"},model:{value:e.newAdminNickname,callback:function(t){e.newAdminNickname=t},expression:"newAdminNickname"}},e._l(e.followersNicknameList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.transferAdmin()}}},[e._v("转让")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible.transferAdmin=!1,e.getTreeDetailInfo()}}},[e._v("取消")])],1)],1)],1)],1),e._v(" "),a("p",[a("el-button",{attrs:{type:"text",plain:""},nativeOn:{click:function(t){e.dialogFormVisible.changeCenterNode=!0}}},[e._v("修改渲染中心")]),e._v(" "),a("el-dialog",{attrs:{title:"修改渲染中心",visible:e.dialogFormVisible.changeCenterNode,width:"25%"},on:{"update:visible":function(t){return e.$set(e.dialogFormVisible,"changeCenterNode",t)}}},[a("el-form",{staticStyle:{margin:"0px 10px"},attrs:{size:"medium"}},[a("p",[e._v("原渲染中心："),a("span",[e._v(e._s(this.treeDetailInfo.defaultCenterPerson))])]),e._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"修改渲染中心"},model:{value:e.newCenterNodeName,callback:function(t){e.newCenterNodeName=t},expression:"newCenterNodeName"}},e._l(e.nodesNameList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.changeCenterNode()}}},[e._v("修改")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible.changeCenterNode=!1,e.getTreeDetailInfo()}}},[e._v("取消")])],1)],1)],1)],1),e._v(" "),a("p",[a("el-button",{attrs:{type:"text",plain:""},nativeOn:{click:function(t){e.dialogFormVisible.changeDescription=!0}}},[e._v("修改图谱名称与简介")]),e._v(" "),a("el-dialog",{attrs:{title:"修改图谱名称与简介",visible:e.dialogFormVisible.changeDescription,width:"25%"},on:{"update:visible":function(t){return e.$set(e.dialogFormVisible,"changeDescription",t)}}},[a("el-form",{staticStyle:{margin:"0px 10px"},attrs:{size:"medium"}},[a("el-form-item",{attrs:{label:"图谱名称:"}},[a("el-input",{attrs:{placeholder:"新图谱名称",max:"20"},model:{value:e.treeDetailInfo.name,callback:function(t){e.$set(e.treeDetailInfo,"name",t)},expression:"treeDetailInfo.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图谱简介:"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"请输入新的图谱简介"},model:{value:e.treeDetailInfo.description,callback:function(t){e.$set(e.treeDetailInfo,"description",t)},expression:"treeDetailInfo.description"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.changeDescription}},[e._v("修改")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible.changeDescription=!1,e.getTreeDetailInfo()}}},[e._v("取消")])],1)],1)],1)],1),e._v(" "),a("p",[a("el-button",{attrs:{type:"text",plain:""},nativeOn:{click:function(t){e.dialogFormVisible.cancelFollow=!0,this.getFollowers()}}},[e._v("取消普通用户关注")]),e._v(" "),a("el-dialog",{attrs:{title:"取消普通用户关注",visible:e.dialogFormVisible.cancelFollow,width:"25%"},on:{"update:visible":function(t){return e.$set(e.dialogFormVisible,"cancelFollow",t)}}},[a("el-form",{staticStyle:{margin:"0px 10px"},attrs:{size:"medium"}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择所要取消的用户"},model:{value:e.cancelFollowUserName,callback:function(t){e.cancelFollowUserName=t},expression:"cancelFollowUserName"}},e._l(e.followersNicknameList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.cancelFollow()}}},[e._v("立即取消")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible.cancelFollow=!1}}},[e._v("取消")])],1)],1)],1)],1)])],1)]:e._e(),e._v(" "),null===e.utilIndex?[a("div",{staticClass:"cssTreeUtilShowDetail",staticStyle:{width:"220px"}},[a("el-scrollbar",{staticStyle:{height:"100%",width:"100%"}},[a("h1",[e._v("图谱详情")]),e._v(" "),a("p",[e._v("图谱ID："),a("span",[e._v(e._s(this.treeDetailInfo.id))])]),e._v(" "),a("div",[e._v("图谱管理员：\r\n          "),a("p",[e._v(e._s(this.treeDetailInfo.admin))])]),e._v(" "),a("p",[e._v("渲染中心："),a("span",[e._v(e._s(this.treeDetailInfo.defaultCenterPerson))])]),e._v(" "),a("div",[e._v("图谱简介：\r\n          "),a("p",[e._v(e._s(this.treeDetailInfo.description))])])])],1)]:e._e()],2)},staticRenderFns:[]};var f={name:"TreeGraph",components:{graphUtil:a("VU/8")(h,p,!1,function(e){a("dHrk"),a("kz8y")},"data-v-b8c7a3fa",null).exports},data:function(){return{selectUtilIndex:null,myChart:null,label:{nodeLabel:{show:!0},edgeLabel:{show:!0}},radius:2e3,maxIterationNum:2,graphData:{nodes:[],links:[]},centerNodes:[],queryShortestpathVO:{startPersonName:"",endPersonName:""}}},mounted:function(){this.drawGraph(),this.getTreeInfoData(),this.getTreeMainNodeData()},methods:{drawGraph:function(){this.myChart=this.$echarts.init(document.getElementById("treeShow"));var e={title:{text:this.$route.params.treeName},tooltip:{show:!0,trigger:"item",formatter:"{b}"},animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:[{type:"graph",layout:"none",symbolSize:25,roam:!0,nodeScaleRatio:.1,focusNodeAdjacency:!0,itemStyle:{color:"#1C86EE",opacity:.9},lineStyle:{curveness:.3},label:{show:this.label.nodeLabel.show,fontSize:15,align:"center"},edgeSymbol:["circle","arrow"],edgeSymbolSize:[4,10],edgeLabel:{normal:{show:this.label.edgeLabel.show,formatter:"",align:"center",textStyle:{fontSize:15}}},emphasis:{label:{show:!0,align:"center"},edgeLabel:{show:!0,fontWeight:"bold",align:"center"}},data:this.graphData.nodes,links:this.graphData.links}]};this.myChart.setOption(e);var t=this;this.myChart.on("click",function(e){"series"===e.componentType&&"graph"===e.seriesType&&"node"===e.dataType&&(t.selectUtilIndex="6",t.bus.$emit("on-clickNode",e.name))})},getTreeMainNodeData:function(){var e=this;this.$axios.get("/tree/"+this.$route.params.treeName+"/tree-main-data",{params:{radius:this.radius}}).then(function(t){200===t.data.code?(e.graphData.nodes=t.data.data[0],e.graphData.links=e.loadLink(t),e.centerNodes=t.data.data[2],e.myChart.setOption({series:[{data:e.graphData.nodes,links:e.graphData.links}]})):e.$alert(t.data.message)}).catch(function(e){})},getTreeInfoData:function(){},expandTree:function(){},loadNode:function(e){var t=[],a=e.data.data[0],i=a.length;if(0===i)return null;for(var n=0;n<i;n++){var o={name:a[n].name,x:Number(a[n].x),y:Number(a[n].y)};t.push(o)}return t},loadLink:function(e){for(var t=[],a=e.data.data[1],i=a.length,n=0;n<i;n++)t.push({source:a[n].source,target:a[n].target,label:{formatter:a[n].relationshipName}});return t},handleSelect:function(e){"1"===e||"2"===e||(this.selectUtilIndex=e)},changeLabel:function(){this.label.nodeLabel.show=!this.label.nodeLabel.show,this.label.edgeLabel.show=!this.label.edgeLabel.show,this.myChart.setOption({series:[{label:{show:this.label.nodeLabel.show},edgeLabel:{normal:{show:this.label.edgeLabel.show}}}]})}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cssTree"},[a("div",{staticClass:"cssTreePanelContainer"},[a("div",{staticClass:"cssTreeUtilNavDetail"},[a("el-menu",{staticStyle:{"border-right":"0px"},attrs:{collapse:!0},on:{select:e.handleSelect}},[a("el-menu-item",{attrs:{index:"1"}},[a("i",{staticClass:"el-icon-refresh",on:{click:function(t){return e.getTreeMainNodeData()}}})]),e._v(" "),a("el-menu-item",{attrs:{index:"2"}},[a("i",{staticClass:"el-icon-view",on:{click:function(t){return e.changeLabel()}}})]),e._v(" "),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"3-1"}},[e._v("节点")])],1),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"3-2"}},[e._v("关系")])],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-minus"})]),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"4-1"}},[e._v("节点")])],1),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"4-2"}},[e._v("关系")])],1)],2),e._v(" "),a("el-menu-item",{attrs:{index:"5"}},[a("i",{staticClass:"el-icon-chat-dot-round"})]),e._v(" "),a("el-menu-item",{attrs:{index:"6"}},[a("i",{staticClass:"el-icon-search"})]),e._v(" "),a("el-submenu",{attrs:{index:"7"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"})]),e._v(" "),a("el-menu-item-group",[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("工具")]),e._v(" "),a("el-menu-item",{attrs:{index:"7-1"}},[e._v("最短路径选择器")])],1)],2),e._v(" "),a("el-menu-item",{attrs:{index:"8"}},[a("i",{staticClass:"el-icon-s-management"})]),e._v(" "),a("el-menu-item",{attrs:{index:"9"}},[a("i",{staticClass:"el-icon-setting"})])],1)],1),e._v(" "),a("div",{staticClass:"cssTreeShowDetail"},[a("el-card",{staticClass:"cssTreeShowPanel",attrs:{id:"treeShow"}})],1),e._v(" "),a("div",{staticClass:"cssTreeUtilDetail"},[a("el-card",{staticClass:"cssTreeUtilShowPanel"},[a("graph-util",{attrs:{myChart:this.myChart,utilIndex:this.selectUtilIndex},on:{handleGetTreeMainNodeData:e.getTreeMainNodeData}})],1)],1)])])},staticRenderFns:[]};var v=a("VU/8")(f,g,!1,function(e){a("uJEZ")},"data-v-495c6447",null).exports;i.default.use(n.a);var N={mode:"hash",routes:[{path:"*",redirect:"/empty"},{path:"/",redirect:"/login"},{path:"/login",meta:{title:"登陆-家谱系统(FTS)"},name:"TreeLogin",component:s},{path:"/register",meta:{title:"注册-家谱系统(FTS)"},name:"TreeRegister",component:l},{path:"/homepage/:nickname",meta:{title:"个人首页-家谱系统(FTS)"},name:"TreeHomepage",component:d},{path:"/empty",meta:{title:"家谱系统(FTS)"},name:"TreeEmpty",component:u},{path:"/tree/:treeName",meta:{title:"家谱-家谱系统(FTS)"},name:"TreeGraph",component:v}]},b=new n.a(N);b.beforeEach(function(e,t,a){window.document.title=e.meta.title,a()}),b.afterEach(function(e,t,a){window.scrollTo(0,0)});var w=b,y=a("mtWM"),T=a.n(y),x=a("XLwt"),A=a.n(x),_=a("zL8q"),k=a.n(_),C=(a("tvR6"),{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cssHeader"},[a("div",{staticClass:"cssHeaderContainer"},[e._m(0),e._v(" "),a("div",{staticClass:"cssHeaderNav"},[a("div",{staticClass:"cssHeaderNavMenu"},[a("el-menu",{attrs:{"default-active":this.$route.path,mode:"horizontal",router:""}},[a("el-menu-item",{attrs:{index:"/login"}},[e._v("首页")]),e._v(" "),a("el-menu-item",{attrs:{index:"/square"}},[e._v("广场")]),e._v(" "),a("el-menu-item",{attrs:{index:"/shoop"}},[e._v("商店")]),e._v(" "),a("el-menu-item",{attrs:{index:"/help"}},[e._v("帮助")])],1)],1),e._v(" "),a("div",{staticClass:"cssHeaderNavIcon"},[a("div",{staticClass:"cssHeaderVavIconItem"},[a("el-dropdown",{attrs:{"hide-on-click":!0}},[a("span",{ref:"echarType",staticClass:"el-dropdown-link"},[a("el-avatar",{attrs:{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}})],1),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[null!==this.userNickname?[a("el-dropdown-item",{nativeOn:{click:function(t){return e.turnToHomepage(t)}}},[e._v(e._s(this.userNickname))]),e._v(" "),a("el-dropdown-item",{nativeOn:{click:function(t){return e.showMessagePanel(t)}}},[e._v("消息\r\n                  "),a("el-badge",{attrs:{value:e.messages.number,max:10}})],1),e._v(" "),a("el-dropdown-item",{nativeOn:{click:function(t){return e.logout(t)}}},[e._v("注销")])]:[a("el-dropdown-item",{nativeOn:{click:function(t){return e.turnToLogin(t)}}},[e._v("登录")])]],2)],1)],1)])])]),e._v(" "),a("el-dialog",{attrs:{title:"消息列表",visible:e.messageDialogFormVisible,width:"45%"},on:{"update:visible":function(t){e.messageDialogFormVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.messages.applications.filter(function(t){return!e.messages.searchName||t.userNickname.toLowerCase().includes(e.messages.searchName.toLowerCase())})}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n          验证信息："),a("span",[e._v(e._s(t.row.applicationComment))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"申请图谱",prop:"genealogyName"}}),e._v(" "),a("el-table-column",{attrs:{label:"申请人",prop:"userNickname"}}),e._v(" "),a("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.acceptApplication(t.row.genealogyName,t.row.userNickname)}}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.refuseApplication(t.row.genealogyName,t.row.userNickname)}}},[e._v("拒绝")])]}}])},[a("template",{slot:"header"},[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索申请人"},model:{value:e.messages.searchName,callback:function(t){e.$set(e.messages,"searchName",t)},expression:"messages.searchName"}})],1)],2)],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cssHeaderLogo"},[t("img",{staticStyle:{width:"auto",height:"60px"},attrs:{src:a("6TWq")}})])}]});var I={render:function(){var e=this.$createElement;return(this._self._c||e)("p",{staticClass:"cssFooter"},[this._v("@2019 成都大学危宇豪版权所有")])},staticRenderFns:[]};var S={name:"App",components:{treeHeader:a("VU/8")({name:"TreeHeader",data:function(){return{userNickname:null,messageDialogFormVisible:!1,messages:{applications:[],searchName:"",number:null}}},mounted:function(){var e=this;this.bus.$on("on-login",function(t){e.userNickname=t}),this.getNickname()},methods:{logout:function(){var e=this;this.$axios.delete("/user/status/").then(function(t){200===t.data.code&&(e.userNickname=null,e.bus.$emit("on-logout"),e.$alert(t.data.message)),401===t.data.code&&e.$alert(t.data.message)}).catch(function(e){})},turnToLogin:function(){this.bus.$emit("on-turnToLogin")},turnToHomepage:function(){null!==this.userNickname?this.bus.$emit("on-turnToHomepage",this.userNickname):this.$alert("请先完成登录。")},getNickname:function(){var e=this;this.$axios.get("/user/header-info").then(function(t){200===t.data.code&&(e.userNickname=t.data.data[0],null!==t.data.data[1]&&t.data.data[1]>0&&(e.messageReminding(),e.messages.number=t.data.data[1]))})},messageReminding:function(){this.$notify.info({title:"消息提示",message:"您有新的消息。",offset:50})},showMessagePanel:function(){var e=this;this.messageDialogFormVisible=!0,this.$axios.get("/user/"+this.userNickname+"/admin-trees/application").then(function(t){200===t.data.code&&(e.messages.applications=t.data.data,e.messages.number=t.data.data.length)}).catch()},acceptApplication:function(e,t){var a=this;this.$axios.patch("/tree/"+e+"/application/"+t).then(function(e){200===e.data.code&&(a.showMessagePanel(),a.$alert(e.data.message))}).catch(function(e){})},refuseApplication:function(e,t){var a=this;this.$axios.delete("/tree/"+e+"/application/"+t).then(function(e){200===e.data.code&&(a.showMessagePanel(),a.$alert(e.data.message))}).catch(function(e){})}}},C,!1,function(e){a("uXnr")},"data-v-592acb1d",null).exports,treeFooter:a("VU/8")({name:"TreeFooter"},I,!1,function(e){a("vXke")},"data-v-2afbd25c",null).exports},mounted:function(){var e=this;this.bus.$on("on-logout",function(){e.$router.push({path:"/login"})}),this.bus.$on("on-turnToLogin",function(){e.$router.push({path:"/login"})}),this.bus.$on("on-turnToHomepage",function(t){e.$router.push({path:"/homepage/"+t})})}},D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",[t("el-header",[t("tree-header")],1),this._v(" "),t("el-main",{staticStyle:{height:"100%"}},[t("el-scrollbar",{staticStyle:{height:"100%"}},[t("router-view")],1)],1),this._v(" "),t("el-footer",[t("tree-footer")],1)],1)},staticRenderFns:[]};var F=a("VU/8")(S,D,!1,function(e){a("8hhQ")},null,null).exports;i.default.use(k.a),T.a.defaults.baseURL="//39.97.110.195:80/api",i.default.prototype.$axios=T.a,i.default.prototype.$echarts=A.a,T.a.defaults.withCredentials=!0,i.default.config.productionTip=!1,i.default.prototype.bus=new i.default,new i.default({el:"#app",router:w,components:{App:F},template:"<App/>"})},dHrk:function(e,t){},gJTK:function(e,t){},kz8y:function(e,t){},ojsC:function(e,t){},tvR6:function(e,t){},uJEZ:function(e,t){},uXnr:function(e,t){},vXke:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.dfff3030f43b6b96bd5f.js.map